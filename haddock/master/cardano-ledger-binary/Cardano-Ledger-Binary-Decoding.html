<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Cardano.Ledger.Binary.Decoding</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">cardano-ledger-binary-1.3.3.0: Binary serialization library used throughout ledger</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Cardano.Ledger.Binary.Decoding</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Running decoders</a></li><li><a href="#g:2">Decoders</a><ul><li><a href="#g:3">Versioning</a></li><li><a href="#g:4">Error reporting</a></li><li><a href="#g:5">Compatibility tools</a></li><li><a href="#g:6">Custom decoders</a><ul><li><a href="#g:7">Containers</a><ul><li><a href="#g:8">Applicaitve</a></li></ul></li><li><a href="#g:9">Time</a></li><li><a href="#g:10">Network</a></li></ul></li><li><a href="#g:11">Lifted <code>cborg</code> decoders</a></li></ul></li><li><a href="#g:12">Annotated</a></li><li><a href="#g:13">Nested CBOR in CBOR</a></li><li><a href="#g:14">Unsafe deserialization</a></li><li><a href="#g:15">Helpers</a></li><li><a href="#g:16">Deprecated</a></li></ul></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:decodeFull">decodeFull</a> :: <span class="keyword">forall</span> a. <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> a =&gt; <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> -&gt; <a href="../../Data-Sequence-Strict.html#t:StrictSeq" title="Data.Sequence.Strict">StrictSeq</a> a)</li><li class="src short"><a href="#v:decodeSetTag">decodeSetTag</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s ()</li><li class="src short"><a href="#v:decodeListLikeWithCount">decodeListLikeWithCount</a> :: <span class="keyword">forall</span> s a b. <a href="https://hackage.haskell.org/package/flat-0.6/docs/Flat-Types.html#t:Text" title="Flat.Types">Text</a> -&gt; (<span class="keyword">forall</span> s. <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> a)) -&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a> a</li><li class="src short"><a href="#v:decCBORMaybe">decCBORMaybe</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Running decoders</h1></a><div class="top"><p class="src"><a id="v:decodeFull" class="def">decodeFull</a> :: <span class="keyword">forall</span> a. <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> a =&gt; <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> -&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a> a <a href="#v:decodeFull" class="selflink">#</a></p><div class="doc"><p>Deserialize a Haskell value from a binary CBOR representation, failing if
   there are leftovers. In other words, the <strong>Full</strong> here implies the contract
   on this function that the input must be consumed in its entirety by the
   decoder specified in <code><a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:decodeFull-39-" class="def">decodeFull'</a> :: <span class="keyword">forall</span> a. <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> a =&gt; <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> -&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a> a <a href="#v:decodeFull-39-" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeFull" title="Cardano.Ledger.Binary.Decoding">decodeFull</a></code>, except accepts a strict <code><a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> as input
 instead of the lazy one.</p></div></div><div class="top"><p class="src"><a id="v:decodeFullDecoder" class="def">decodeFullDecoder</a> <a href="#v:decodeFullDecoder" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a></td><td class="doc"><p>Protocol version to be used during decoding.</p></td></tr><tr><td class="src">-&gt; <a href="https://hackage.haskell.org/package/flat-0.6/docs/Flat-Types.html#t:Text" title="Flat.Types">Text</a></td><td class="doc"><p>Label for error reporting</p></td></tr><tr><td class="src">-&gt; (<span class="keyword">forall</span> s. <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a)</td><td class="doc"><p>The parser for the <code>ByteString</code> to decode. It should decode the given
 <code>ByteString</code> into a value of type <code>a</code></p></td></tr><tr><td class="src">-&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc"><p>The <code>ByteString</code> to decode</p></td></tr><tr><td class="src">-&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Same as <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeFull" title="Cardano.Ledger.Binary.Decoding">decodeFull</a></code>, except instead of relying on the <code><a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a></code> instance
 the <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a></code> must be suplied manually.</p></div></div><div class="top"><p class="src"><a id="v:decodeFullDecoder-39-" class="def">decodeFullDecoder'</a> :: <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> -&gt; <a href="https://hackage.haskell.org/package/flat-0.6/docs/Flat-Types.html#t:Text" title="Flat.Types">Text</a> -&gt; (<span class="keyword">forall</span> s. <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> a)) -&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a> a <a href="#v:decodeFullAnnotator" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeFullDecoder" title="Cardano.Ledger.Binary.Decoding">decodeFullDecoder</a></code>, except it provdes the means of passing portion or all
 of the <code><a href="https://hackage.haskell.org/package/flat-0.6/docs/Flat-Types.html#t:Text" title="Flat.Types">Text</a> -&gt; (<span class="keyword">forall</span> s. <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (f <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a>)) -&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a> (f <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="#v:decodeFullAnnotatedBytes" class="selflink">#</a></p><div class="doc"><p>Same as <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeFullDecoder" title="Cardano.Ledger.Binary.Decoding">decodeFullDecoder</a></code>, decodes a Haskell value from a lazy
 <code><a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></code>, requiring that the full ByteString is consumed, and
 replaces <code><a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a></code> annotations with the corresponding slice of the input as
 a strict <code><a href="https://hackage.haskell.org/package/flat-0.6/docs/Flat-Types.html#t:Text" title="Flat.Types">Text</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a> a <a href="#v:decodeFullAnnotatorFromHexText" class="selflink">#</a></p></div><div class="top"><p class="src">module <a href="Cardano-Ledger-Binary-Version.html">Cardano.Ledger.Binary.Version</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a =&gt; <a id="t:DecCBOR" class="def">DecCBOR</a> a <span class="keyword">where</span> <a href="#t:DecCBOR" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">Nothing</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:decCBOR" class="def">decCBOR</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="#v:decCBOR" class="selflink">#</a></p> <div class="subs default"><p class="caption"></p><p class="src"><span class="keyword">default</span> <a id="v:decCBOR" class="def">decCBOR</a> :: <a href="Cardano-Ledger-Binary-Plain.html#t:FromCBOR" title="Cardano.Ledger.Binary.Plain">FromCBOR</a> a =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="#v:decCBOR" class="selflink">#</a></p></div><p class="src"><a id="v:dropCBOR" class="def">dropCBOR</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s () <a href="#v:dropCBOR" class="selflink">#</a></p><div class="doc"><p>Validate decoding of a Haskell value, without the need to actually construct
 it. Coule be slightly faster than <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decCBOR" title="Cardano.Ledger.Binary.Decoding">decCBOR</a></code>, however it should respect this law:</p><pre>dropCBOR (proxy :: Proxy a) = () &lt;$ (decCBOR :: Decoder s a)</pre></div><p class="src"><a id="v:label" class="def">label</a> :: <a href="../../Data-VMap.html#t:VMap" title="Data.VMap">VMap</a> kv av k a) -&gt; <a href="https://hackage.haskell.org/package/flat-0.6/docs/Flat-Types.html#t:Text" title="Flat.Types">Text</a> <a href="#v:label" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:fromByronCBOR" class="def">fromByronCBOR</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> a =&gt; <a href="Cardano-Ledger-Binary-Plain.html#t:Decoder" title="Cardano.Ledger.Binary.Plain">Decoder</a> s a <a href="#v:fromByronCBOR" class="selflink">#</a></p><div class="doc"><p>Convert a versioned <code><a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a></code> instance to a plain <code><a href="Cardano-Ledger-Binary-Plain.html#t:Decoder" title="Cardano.Ledger.Binary.Plain">Decoder</a></code> using Byron protocol
 version.</p></div></div><div class="top"><p class="src"><a id="v:decodeScriptContextFromData" class="def">decodeScriptContextFromData</a> :: (<a href="../../plutus-core/PlutusCore-Data.html#t:Data" title="PlutusCore.Data">Data</a> -&gt; m a <a href="#v:decodeScriptContextFromData" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Share" title="Cardano.Ledger.Binary.Decoding">Share</a> a) =&gt; <a id="t:DecShareCBOR" class="def">DecShareCBOR</a> a <span class="keyword">where</span> <a href="#t:DecShareCBOR" class="selflink">#</a></p><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">(<a href="Cardano-Ledger-Binary-Decoding.html#v:decShareCBOR" title="Cardano.Ledger.Binary.Decoding">decShareCBOR</a> | <a href="Cardano-Ledger-Binary-Decoding.html#v:decSharePlusCBOR" title="Cardano.Ledger.Binary.Decoding">decSharePlusCBOR</a>)</p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:Share" class="def">Share</a> a :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Share" class="selflink">#</a></p> <div class="subs default"><p class="caption"></p><p class="src"><span class="keyword">type</span> <a href="Cardano-Ledger-Binary-Decoding.html#t:Share" title="Cardano.Ledger.Binary.Decoding">Share</a> a = ()</p></div></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:getShare" class="def">getShare</a> :: a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Share" title="Cardano.Ledger.Binary.Decoding">Share</a> a <a href="#v:getShare" class="selflink">#</a></p><div class="doc"><p>Whenever <code>fromShareCBOR</code> is being used for defining the instance this
 function should return the state that can be added whenever user invokes
 <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decSharePlusCBOR" title="Cardano.Ledger.Binary.Decoding">decSharePlusCBOR</a></code>. <code><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Monoid.html#v:mempty" title="Data.Monoid">mempty</a></code> is returned by default.</p></div><p class="src"><a id="v:decShareCBOR" class="def">decShareCBOR</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Share" title="Cardano.Ledger.Binary.Decoding">Share</a> a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="#v:decShareCBOR" class="selflink">#</a></p><div class="doc"><p>Utilize sharing when decoding, but do not add anything to the state for
 future sharing.</p></div><p class="src"><a id="v:decSharePlusCBOR" class="def">decSharePlusCBOR</a> :: <a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/Control-Monad-State-Strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Share" title="Cardano.Ledger.Binary.Decoding">Share</a> a) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s) a <a href="#v:decSharePlusCBOR" class="selflink">#</a></p><div class="doc"><p>Deserialize with sharing and add to the state that is used for sharing. Default
 implementation will add value returned by <code><a href="Cardano-Ledger-Binary-Decoding.html#v:getShare" title="Cardano.Ledger.Binary.Decoding">getShare</a></code> for adding to the
 state.</p></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DecShareCBOR">Instances</h4><details id="i:DecShareCBOR" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:DecShareCBOR:DecShareCBOR:1"></span> (<a href="https://hackage.haskell.org/package/primitive-0.9.0.0/docs/Data-Primitive-Types.html#t:Prim" title="Data.Primitive.Types">Prim</a> v) =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:DecShareCBOR" title="Cardano.Ledger.Binary.Decoding">DecShareCBOR</a> (<a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VMap" title="Data.VMap">VMap</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VB" title="Data.VMap">VB</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VP" title="Data.VMap">VP</a> k v)</span> <a href="#t:DecShareCBOR" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:DecShareCBOR:DecShareCBOR:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Sharing.html">Cardano.Ledger.Binary.Decoding.Sharing</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Cardano-Ledger-Binary-Decoding.html#t:Share" title="Cardano.Ledger.Binary.Decoding">Share</a> (<a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VMap" title="Data.VMap">VMap</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VB" title="Data.VMap">VB</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VP" title="Data.VMap">VP</a> k v) <a href="#t:Share" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getShare">getShare</a> :: <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VMap" title="Data.VMap">VMap</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VB" title="Data.VMap">VB</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VP" title="Data.VMap">VP</a> k v -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Share" title="Cardano.Ledger.Binary.Decoding">Share</a> (<a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VMap" title="Data.VMap">VMap</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VB" title="Data.VMap">VB</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VP" title="Data.VMap">VP</a> k v) <a href="#v:getShare" class="selflink">#</a></p><p class="src"><a href="#v:decShareCBOR">decShareCBOR</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Share" title="Cardano.Ledger.Binary.Decoding">Share</a> (<a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VMap" title="Data.VMap">VMap</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VB" title="Data.VMap">VB</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VP" title="Data.VMap">VP</a> k v) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VMap" title="Data.VMap">VMap</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VB" title="Data.VMap">VB</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VP" title="Data.VMap">VP</a> k v) <a href="#v:decShareCBOR" class="selflink">#</a></p><p class="src"><a href="#v:decSharePlusCBOR">decSharePlusCBOR</a> :: <a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/Control-Monad-State-Strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Share" title="Cardano.Ledger.Binary.Decoding">Share</a> (<a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VMap" title="Data.VMap">VMap</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VB" title="Data.VMap">VB</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VP" title="Data.VMap">VP</a> k v)) (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s) (<a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VMap" title="Data.VMap">VMap</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VB" title="Data.VMap">VB</a> <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VP" title="Data.VMap">VP</a> k v) <a href="#v:decSharePlusCBOR" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Interns" class="def">Interns</a> a <a href="#t:Interns" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Interns" class="def">Interns</a> [<a href="Cardano-Ledger-Binary-Decoding.html#t:Intern" title="Cardano.Ledger.Binary.Decoding">Intern</a> a]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Interns">Instances</h4><details id="i:Interns" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Interns:Monoid:1"></span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a)</span> <a href="#t:Interns" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Interns:Monoid:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Sharing.html">Cardano.Ledger.Binary.Decoding.Sharing</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a] -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Interns:Semigroup:2"></span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a)</span> <a href="#t:Interns" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Interns:Semigroup:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Sharing.html">Cardano.Ledger.Binary.Decoding.Sharing</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> a <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Intern" class="def">Intern</a> a <a href="#t:Intern" class="selflink">#</a></p><div class="doc"><p>This is an abstract interface that does the interning. In other words it
 does the actual sharing by looking up the supplied value in some existing
 data structure and uses that value instead. Relying on this interface gives us
 the benefit of ignoring the type of underlying data structure and allows us
 to compose many <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Intern" title="Cardano.Ledger.Binary.Decoding">Intern</a></code>s with the monoidal interface provided by <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a></code>
 wrapper. In order to create an <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Intern" title="Cardano.Ledger.Binary.Decoding">Intern</a></code> see the <code><a href="Cardano-Ledger-Binary-Decoding.html#v:internsFromMap" title="Cardano.Ledger.Binary.Decoding">internsFromMap</a></code> or
 <code><a href="Cardano-Ledger-Binary-Decoding.html#v:internsFromVMap" title="Cardano.Ledger.Binary.Decoding">internsFromVMap</a></code> functions.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Intern" class="def">Intern</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:internMaybe" class="def">internMaybe</a> :: a -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a</dfn><div class="doc"><p>Function that will do the interning. If value is not available then
 <code><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> is returned.</p></div></li><li><dfn class="src"><a id="v:internWeight" class="def">internWeight</a> :: !<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int" title="Data.Int">Int</a></dfn><div class="doc"><p>Used for sorting. Normally set to the size of the underlying data
 structure. Keeping interns sorted with respect to how many elements
 is in the underlying data structure in theory gives a better chance of
 successful intern hit sooner rather than later.</p></div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:decShareLensCBOR" class="def">decShareLensCBOR</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:DecShareCBOR" title="Cardano.Ledger.Binary.Decoding">DecShareCBOR</a> b =&gt; <a href="https://hackage.haskell.org/package/microlens-0.4.13.1/docs/Lens-Micro-Type.html#t:Lens-39-" title="Lens.Micro.Type">Lens'</a> bs (<a href="Cardano-Ledger-Binary-Decoding.html#t:Share" title="Cardano.Ledger.Binary.Decoding">Share</a> b) -&gt; <a href="https://hackage.haskell.org/package/mtl-2.3.1/docs/Control-Monad-State-Strict.html#t:StateT" title="Control.Monad.State.Strict">StateT</a> bs (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s) b <a href="#v:decSharePlusLensCBOR" class="selflink">#</a></p><div class="doc"><p>Just like <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decSharePlusCBOR" title="Cardano.Ledger.Binary.Decoding">decSharePlusCBOR</a></code>, except allows to transform the shared state
 with a lens.</p></div></div><div class="top"><p class="src"><a id="v:decNoShareCBOR" class="def">decNoShareCBOR</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:DecShareCBOR" title="Cardano.Ledger.Binary.Decoding">DecShareCBOR</a> a =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="#v:decNoShareCBOR" class="selflink">#</a></p><div class="doc"><p>Use <code><a href="Cardano-Ledger-Binary-Decoding.html#t:DecShareCBOR" title="Cardano.Ledger.Binary.Decoding">DecShareCBOR</a></code> class while ignoring sharing</p></div></div><div class="top"><p class="src"><a id="v:interns" class="def">interns</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> k -&gt; k -&gt; k <a href="#v:interns" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:internsFromMap" class="def">internsFromMap</a> :: <a href="https://hackage.haskell.org/package/microlens-0.4.13.1/docs/Lens-Micro-Type.html#t:Lens-39-" title="Lens.Micro.Type">Lens'</a> c a <a href="#v:toMemptyLens" class="selflink">#</a></p><div class="doc"><p>Using this function it is possible to compose two lenses. One will extract
 a value and another will used it for placing it into a empty monoid. Here is
 an example of how a second element of a tuple can be projected on the third
 element of a 3-tuple.</p><pre>toMemptyLens _3 _2 == lens (\(_, b) -&gt; (mempty, mempty, b)) (\(a, _) (_, _, b) -&gt; (a, b))</pre><p>Here is an example where we extract a second element of a tuple and insert it at
 third position of a three tuple while all other elements are set to <code><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Monoid.html#v:mempty" title="Data.Monoid">mempty</a></code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import Lens.Micro
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;foo&quot;,&quot;bar&quot;) ^. toMemptyLens _3 _2 :: (Maybe String, (), String)
</code></strong>(Nothing,(),&quot;bar&quot;)
</pre><p>In the opposite direction of extracting the third element of a 3-tuple and
 replacing the second element of the tuple the setter is being applied to</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(&quot;foo&quot;,&quot;bar&quot;) &amp; toMemptyLens _3 _2 .~ (Just &quot;baz&quot;, (), &quot;booyah&quot;) :: (String, String)
</code></strong>(&quot;foo&quot;,&quot;booyah&quot;)
</pre></div></div><div class="top"><p class="src"><a id="v:decShareMonadCBOR" class="def">decShareMonadCBOR</a> :: (<a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> (f b), <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> f) =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Interns" title="Cardano.Ledger.Binary.Decoding">Interns</a> b -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (f b) <a href="#v:decShareMonadCBOR" class="selflink">#</a></p><div class="doc"><p>Share every item in a functor, have deserializing it</p></div></div><a href="#g:2" id="g:2"><h1>Decoders</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Decoder" class="def">Decoder</a> s a <a href="#t:Decoder" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Decoder">Instances</h4><details id="i:Decoder" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Decoder:MonadFail:1"></span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Control-Monad-Fail.html#t:MonadFail" title="Control.Monad.Fail">MonadFail</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s)</span> <a href="#t:Decoder" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Decoder:MonadFail:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Decoder.html">Cardano.Ledger.Binary.Decoding.Decoder</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fail">fail</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-String.html#t:String" title="Data.String">String</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="#v:fail" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Decoder:Applicative:2"></span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s)</span> <a href="#t:Decoder" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Decoder:Applicative:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Decoder.html">Cardano.Ledger.Binary.Decoding.Decoder</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (a -&gt; b) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s b -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s b -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s b -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Decoder:Functor:3"></span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s)</span> <a href="#t:Decoder" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Decoder:Functor:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Decoder.html">Cardano.Ledger.Binary.Decoding.Decoder</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s b -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Decoder:Monad:4"></span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s)</span> <a href="#t:Decoder" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Decoder:Monad:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Decoder.html">Cardano.Ledger.Binary.Decoding.Decoder</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; (a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s b) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s b -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:toPlainDecoder" class="def">toPlainDecoder</a> :: <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Plain.html#t:Decoder" title="Cardano.Ledger.Binary.Plain">Decoder</a> s a <a href="#v:toPlainDecoder" class="selflink">#</a></p><div class="doc"><p>Extract the underlying <code><a href="Cardano-Ledger-Binary-Plain.html#t:Decoder" title="Cardano.Ledger.Binary.Plain">Decoder</a></code> by specifying the concrete version to be used.</p></div></div><div class="top"><p class="src"><a id="v:fromPlainDecoder" class="def">fromPlainDecoder</a> :: <a href="Cardano-Ledger-Binary-Plain.html#t:Decoder" title="Cardano.Ledger.Binary.Plain">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="#v:fromPlainDecoder" class="selflink">#</a></p><div class="doc"><p>Promote a regular <code><a href="Cardano-Ledger-Binary-Plain.html#t:Decoder" title="Cardano.Ledger.Binary.Plain">Decoder</a></code> to a versioned one. Which means it will work for all
 versions.</p></div></div><div class="top"><p class="src"><a id="v:withPlainDecoder" class="def">withPlainDecoder</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; (<a href="Cardano-Ledger-Binary-Plain.html#t:Decoder" title="Cardano.Ledger.Binary.Plain">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Plain.html#t:Decoder" title="Cardano.Ledger.Binary.Plain">Decoder</a> s b) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s b <a href="#v:withPlainDecoder" class="selflink">#</a></p><div class="doc"><p>Use the supplied decoder as a plain decoder with current version.</p></div></div><div class="top"><p class="src"><a id="v:enforceDecoderVersion" class="def">enforceDecoderVersion</a> :: <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="#v:enforceDecoderVersion" class="selflink">#</a></p><div class="doc"><p>Ignore the current version of the decoder and enforce the supplied one instead.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DecoderError" class="def">DecoderError</a> <a href="#t:DecoderError" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DecoderErrorCanonicityViolation" class="def">DecoderErrorCanonicityViolation</a> <a href="https://hackage.haskell.org/package/formatting-7.2.0/docs/Formatting-Buildable.html#t:Buildable" title="Formatting.Buildable">Buildable</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DecoderError:Buildable:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/cardano-binary-1.7.1.0-35299a6a931e0ae183a4a771ec9a1757fecea0929c088130ac0ddf182afc0746/share/doc/html/Cardano-Binary-FromCBOR.html">Cardano.Binary.FromCBOR</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:build">build</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a> -&gt; <a href="https://hackage.haskell.org/package/text-2.0.2/docs/Data-Text-Lazy-Builder.html#t:Builder" title="Data.Text.Lazy.Builder">Builder</a> <a href="#v:build" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DecoderError:Eq:4"></span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DecoderError:Eq:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/cardano-binary-1.7.1.0-35299a6a931e0ae183a4a771ec9a1757fecea0929c088130ac0ddf182afc0746/share/doc/html/Cardano-Binary-FromCBOR.html">Cardano.Binary.FromCBOR</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:ByteOffset" class="def">ByteOffset</a> = <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int64" title="Data.Int">Int64</a> <a href="#t:ByteOffset" class="selflink">#</a></p><div class="doc"><p>A 0-based offset within the overall byte sequence that makes up the
 input to the <code><a href="Cardano-Ledger-Binary-Plain.html#t:Decoder" title="Cardano.Ledger.Binary.Plain">Decoder</a></code>.</p><p>This is an <code><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int64" title="Data.Int">Int64</a></code> since <code><a href="Cardano-Ledger-Binary-Plain.html#t:Decoder" title="Cardano.Ledger.Binary.Plain">Decoder</a></code> is incremental and can decode more data
 than fits in memory at once. This is also compatible with the result type
 of <code><a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#v:length" title="Data.ByteString.Lazy">length</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DecodeAction" class="def">DecodeAction</a> s a <a href="#t:DecodeAction" class="selflink">#</a></p><div class="doc"><p>An action, representing a step for a decoder to taken and a
 continuation to invoke with the expected value.</p><p><em>Since: cborg-0.2.0.0</em></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ConsumeWord" class="def">ConsumeWord</a> (<a href="https://hackage.haskell.org/package/cborg-0.2.10.0/docs/Codec-CBOR-ByteArray.html#t:ByteArray" title="Codec.CBOR.ByteArray">ByteArray</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Control-Monad-ST-Safe.html#t:ST" title="Control.Monad.ST.Safe">ST</a> s (<a href="Cardano-Ledger-Binary-Decoding.html#t:DecodeAction" title="Cardano.Ledger.Binary.Decoding">DecodeAction</a> s a))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:ConsumeSimpleCanonical" class="def">ConsumeSimpleCanonical</a> (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Exts.html#t:Word-35-" title="GHC.Exts">Word#</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Control-Monad-ST-Safe.html#t:ST" title="Control.Monad.ST.Safe">ST</a> s (<a href="Cardano-Ledger-Binary-Decoding.html#t:DecodeAction" title="Cardano.Ledger.Binary.Decoding">DecodeAction</a> s a))</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Fail" class="def">Fail</a> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-String.html#t:String" title="Data.String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Done" class="def">Done</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:TokenType" class="def">TokenType</a> <a href="#t:TokenType" class="selflink">#</a></p><div class="doc"><p>The type of a token, which a decoder can ask for at
 an arbitrary time.</p><p><em>Since: cborg-0.2.0.0</em></p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:TypeUInt" class="def">TypeUInt</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeUInt64" class="def">TypeUInt64</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeNInt" class="def">TypeNInt</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeNInt64" class="def">TypeNInt64</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeInteger" class="def">TypeInteger</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeFloat16" class="def">TypeFloat16</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeFloat32" class="def">TypeFloat32</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeFloat64" class="def">TypeFloat64</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeBytes" class="def">TypeBytes</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeBytesIndef" class="def">TypeBytesIndef</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeString" class="def">TypeString</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeStringIndef" class="def">TypeStringIndef</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeListLen" class="def">TypeListLen</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeListLen64" class="def">TypeListLen64</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeListLenIndef" class="def">TypeListLenIndef</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeMapLen" class="def">TypeMapLen</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeMapLen64" class="def">TypeMapLen64</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeMapLenIndef" class="def">TypeMapLenIndef</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeTag" class="def">TypeTag</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeTag64" class="def">TypeTag64</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeBool" class="def">TypeBool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeNull" class="def">TypeNull</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeSimple" class="def">TypeSimple</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeBreak" class="def">TypeBreak</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:TypeInvalid" class="def">TypeInvalid</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:TokenType">Instances</h4><details id="i:TokenType" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:TokenType:Bounded:1"></span> <a href="https://hackage.haskell.org/package/cborg-0.2.10.0/docs/Codec-CBOR-Decoding.html">Codec.CBOR.Decoding</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:compare">compare</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Ord.html#t:Ordering" title="Data.Ord">Ordering</a> <a href="#v:compare" class="selflink">#</a></p><p class="src"><a href="#v:-60-">(&lt;)</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60-" class="selflink">#</a></p><p class="src"><a href="#v:-60--61-">(&lt;=)</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-60--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62-">(&gt;)</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62-" class="selflink">#</a></p><p class="src"><a href="#v:-62--61-">(&gt;=)</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-62--61-" class="selflink">#</a></p><p class="src"><a href="#v:max">max</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> <a href="#v:max" class="selflink">#</a></p><p class="src"><a href="#v:min">min</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> <a href="#v:min" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><a href="#g:3" id="g:3"><h2>Versioning</h2></a><div class="top"><p class="src"><a id="v:getDecoderVersion" class="def">getDecoderVersion</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> <a href="#v:getDecoderVersion" class="selflink">#</a></p><div class="doc"><p>Extract current version of the decoder</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import Cardano.Ledger.Decoding
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>decodeFullDecoder 3 &quot;Version&quot; getDecoderVersion &quot;&quot;
</code></strong>Right 3
</pre></div></div><div class="top"><p class="src"><a id="v:ifDecoderVersionAtLeast" class="def">ifDecoderVersionAtLeast</a> <a href="#v:ifDecoderVersionAtLeast" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</td><td class="doc"><p>Use this decoder if current decoder version is larger or equal to the supplied
 <code><a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</td><td class="doc"><p>Use this decoder if current decoder version is lower than the supplied <code><a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Conditionally choose the newer or older decoder, depending on the current
 version. Version in the context of encoders/decoders is the major protocol
 version. Supplied version acts as a pivot.</p><h5 class="subheading details-toggle-control details-toggle" data-details-id="ch:ifDecoderVersionAtLeast0">Example</h5><details id="ch:ifDecoderVersionAtLeast0"><summary class="hide-when-js-enabled">Expand</summary><p>Let's say prior to the version 2 some type <code>Foo</code> was backed by <code><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word16" title="Data.Word">Word16</a></code>, but at the 2nd
 version onwards it was switched to <code><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word32" title="Data.Word">Word32</a></code> instead. In order to support both versions,
 we change the type, but we also use this condition to keep backwards compatibility of
 the decoder:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>newtype Foo = Foo Word32
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>decFoo = Foo &lt;$&gt; ifDecoderVersionAtLeast 2 decodeWord32 (fromIntegral &lt;$&gt; decodeWord16)
</code></strong></pre></details></div></div><div class="top"><p class="src"><a id="v:whenDecoderVersionAtLeast" class="def">whenDecoderVersionAtLeast</a> <a href="#v:whenDecoderVersionAtLeast" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</td><td class="doc"><p>Run this decoder whenever current decoder version is larger or equal to the supplied
 <code><a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Optionally run a decoder depending on the current version and the supplied one.</p></div></div><div class="top"><p class="src"><a id="v:unlessDecoderVersionAtLeast" class="def">unlessDecoderVersionAtLeast</a> <a href="#v:unlessDecoderVersionAtLeast" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</td><td class="doc"><p>Run this decoder whenever current decoder version is smaller to the supplied <code><a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Optionally run a decoder depending on the current version and the supplied one.</p></div></div><a href="#g:4" id="g:4"><h2>Error reporting</h2></a><div class="top"><p class="src"><a id="v:cborError" class="def">cborError</a> :: (<a href="https://hackage.haskell.org/package/formatting-7.2.0/docs/Formatting-Buildable.html#t:Buildable" title="Formatting.Buildable">Buildable</a></code>
 insatance</p></div></div><div class="top"><p class="src"><a id="v:showDecoderError" class="def">showDecoderError</a> :: <a href="https://hackage.haskell.org/package/flat-0.6/docs/Flat-Types.html#t:Text" title="Flat.Types">Text</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s () <a href="#v:enforceSize" class="selflink">#</a></p><div class="doc"><p>Enforces that the input size is the same as the decoded one, failing in
   case it's not</p></div></div><div class="top"><p class="src"><a id="v:matchSize" class="def">matchSize</a> :: <a href="https://hackage.haskell.org/package/flat-0.6/docs/Flat-Types.html#t:Text" title="Flat.Types">Text</a></td><td class="doc"><p>Name of the function or type for error reporting</p></td></tr><tr><td class="src">-&gt; <a href="https://hackage.haskell.org/package/binary-0.8.9.1/docs/Data-Binary-Get-Internal.html#t:Get" title="Data.Binary.Get.Internal">Get</a> a</td><td class="doc"><p>Deserializer for the <code>binary</code> package</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Convert a <code><a href="https://hackage.haskell.org/package/binary-0.8.9.1/docs/Data-Binary-Get-Internal.html#t:Get" title="Data.Binary.Get.Internal">Get</a></code> monad from <code>binary</code> package into a <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a></code></p></div></div><div class="top"><p class="src"><a id="v:allowTag" class="def">allowTag</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s () <a href="#v:allowTag" class="selflink">#</a></p></div><a href="#g:6" id="g:6"><h2>Custom decoders</h2></a><div class="top"><p class="src"><a id="v:decodeVersion" class="def">decodeVersion</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> <a href="#v:decodeVersion" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeRational" class="def">decodeRational</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Prelude.html#t:Rational" title="Prelude">Rational</a> <a href="#v:decodeRational" class="selflink">#</a></p><div class="doc"><p><code><a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a></code> for <code><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Prelude.html#t:Rational" title="Prelude">Rational</a></code>. Versions variance:</p><ul><li>[&gt;= 9] - Allows variable as well as exact list length encoding. Consumes tag 30 if
   one is present, but does not enforce it.</li><li>[&gt;= 2] - Allows variable as well as exact list length encoding.</li><li>[== 1] - Expects exact list length encoding.</li></ul></div></div><div class="top"><p class="src"><a id="v:decodeRationalWithTag" class="def">decodeRationalWithTag</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Prelude.html#t:Rational" title="Prelude">Rational</a> <a href="#v:decodeRationalWithTag" class="selflink">#</a></p><div class="doc"><p>Enforces tag 30 to indicate a rational number, as per tag assignment:
 <a href="https://www.iana.org/assignments/cbor-tags/cbor-tags.xhtml">https://www.iana.org/assignments/cbor-tags/cbor-tags.xhtml</a></p><p><a href="https://peteroupc.github.io/CBOR/rational.html">https://peteroupc.github.io/CBOR/rational.html</a></p></div></div><div class="top"><p class="src"><a id="v:decodeRecordNamed" class="def">decodeRecordNamed</a> :: <a href="https://hackage.haskell.org/package/flat-0.6/docs/Flat-Types.html#t:Text" title="Flat.Types">Text</a></td><td class="doc"><p>Name for error reporting</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</td><td class="doc"><p>Decoder for the datastructure itself</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s ())</td><td class="doc"><p>In case when length was encoded, act upon it.</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Use this decoder for any list like structure that accepts fixed or variable list
 length encoding.</p></div></div><div class="top"><p class="src"><a id="v:decodeListLikeT" class="def">decodeListLikeT</a> <a href="#v:decodeListLikeT" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="https://hackage.haskell.org/package/flat-0.6/docs/Flat-Types.html#t:Text" title="Flat.Types">Text</a></td><td class="doc"><p>Name for error reporting</p></td></tr><tr><td class="src">-&gt; m (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s) a</td><td class="doc"><p>Decoder for the datastructure itself</p></td></tr><tr><td class="src">-&gt; (a -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; m (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s) ())</td><td class="doc"><p>In case when length was encoded, act upon it.</p></td></tr><tr><td class="src">-&gt; m (<a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s) a</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:decodeEnumBounded" class="def">decodeEnumBounded</a> :: <span class="keyword">forall</span> a s. (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Prelude.html#t:Enum" title="Prelude">Enum</a> a, <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Prelude.html#t:Bounded" title="Prelude">Bounded</a> a, <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Type-Reflection.html#t:Typeable" title="Type.Reflection">Typeable</a> a) =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="#v:decodeEnumBounded" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWithOrigin" class="def">decodeWithOrigin</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/cardano-slotting-0.2.0.0-b1dac3516c2e7013791eff3394663978c6a0436e5c443c3f7c909bd6c8897573/share/doc/html/Cardano-Slotting-Slot.html#t:WithOrigin" title="Cardano.Slotting.Slot">WithOrigin</a> a) <a href="#v:decodeWithOrigin" class="selflink">#</a></p></div><a href="#g:7" id="g:7"><h3>Containers</h3></a><div class="top"><p class="src"><a id="v:decodeMaybe" class="def">decodeMaybe</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="#v:decodeMaybe" class="selflink">#</a></p><div class="doc"><p><code><a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a></code> for <code><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code>. Versions variance:</p><ul><li>[&gt;= 2] - Allows variable as well as exact list length encoding.</li><li>[&lt; 2] - Expects exact list length encoding</li></ul></div></div><div class="top"><p class="src"><a id="v:decodeNullMaybe" class="def">decodeNullMaybe</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="#v:decodeNullMaybe" class="selflink">#</a></p><div class="doc"><p>Alternative way to decode a Maybe type.</p><p><em>Note</em> - this is not the default method for decoding <code><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a></code>, use <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeMaybe" title="Cardano.Ledger.Binary.Decoding">decodeMaybe</a></code> instead.</p></div></div><div class="top"><p class="src"><a id="v:decodeStrictMaybe" class="def">decodeStrictMaybe</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/cardano-strict-containers-0.1.3.0-2052a8df8354aebe402a3e5db82b21a12d6e852cb61224de41c31629bea4a3d9/share/doc/html/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a) <a href="#v:decodeStrictMaybe" class="selflink">#</a></p><div class="doc"><p>Unlike <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeMaybe" title="Cardano.Ledger.Binary.Decoding">decodeMaybe</a></code> this allows variable as well as exact list length encoding for
 all versions, because Byron never used <code><a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/cardano-strict-containers-0.1.3.0-2052a8df8354aebe402a3e5db82b21a12d6e852cb61224de41c31629bea4a3d9/share/doc/html/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a></code> type.</p></div></div><div class="top"><p class="src"><a id="v:decodeNullStrictMaybe" class="def">decodeNullStrictMaybe</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/cardano-strict-containers-0.1.3.0-2052a8df8354aebe402a3e5db82b21a12d6e852cb61224de41c31629bea4a3d9/share/doc/html/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a> a) <a href="#v:decodeNullStrictMaybe" class="selflink">#</a></p><div class="doc"><p>Alternative way to decode a <code><a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/cardano-strict-containers-0.1.3.0-2052a8df8354aebe402a3e5db82b21a12d6e852cb61224de41c31629bea4a3d9/share/doc/html/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a></code> type.</p><p><em>Note</em> - this is not the default method for decoding <code><a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/cardano-strict-containers-0.1.3.0-2052a8df8354aebe402a3e5db82b21a12d6e852cb61224de41c31629bea4a3d9/share/doc/html/Data-Maybe-Strict.html#t:StrictMaybe" title="Data.Maybe.Strict">StrictMaybe</a></code>, use
 <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeStrictMaybe" title="Cardano.Ledger.Binary.Decoding">decodeStrictMaybe</a></code> instead.</p></div></div><div class="top"><p class="src"><a id="v:decodeEither" class="def">decodeEither</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s b -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/vector-0.13.1.0/docs/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> vec a =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (vec a) <a href="#v:decodeVector" class="selflink">#</a></p><div class="doc"><p>Generic decoder for vectors. Its intended use is to allow easy
 definition of <code>Serialise</code> instances for custom vector</p></div></div><div class="top"><p class="src"><a id="v:decodeSet" class="def">decodeSet</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/containers-0.6.7/docs/Data-Set.html#t:Set" title="Data.Set">Set</a> a) <a href="#v:decodeSet" class="selflink">#</a></p><div class="doc"><p><code><a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a></code> for <code><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/Data-Set.html#t:Set" title="Data.Set">Set</a></code>. Versions variance:</p><ul><li>[&gt;= 9] - Allows variable as well as exact list length encoding. Duplicates are
   not allowed. Set tag 258 is permitted, but not enforced.</li><li>[&gt;= 2, &lt; 9] - Allows variable as well as exact list length encoding. Duplicates are
   silently ignored, set tag 258 is not permitted.</li><li>[&lt; 2] - Expects exact list length encoding and enforces strict order
   without any duplicates. Also enforces special set tag 258, which was
   abandoned starting with version 2</li></ul></div></div><div class="top"><p class="src"><a id="v:setTag" class="def">setTag</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:setTag" class="selflink">#</a></p><div class="doc"><p>We stitch a `258` in from of a (Hash)Set, so that tools which
 programmatically check for canonicity can recognise it from a normal
 array. Why 258? This will be formalised pretty soon, but IANA allocated
 256...18446744073709551615 to &quot;First come, first served&quot;:
 <a href="https://www.iana.org/assignments/cbor-tags/cbor-tags.xhtml">https://www.iana.org/assignments/cbor-tags/cbor-tags.xhtml</a> Currently `258` is
 the first unassigned tag and as it requires 2 bytes to be encoded, it sounds
 like the best fit.</p><p><a href="https://github.com/input-output-hk/cbor-sets-spec/blob/master/CBOR_SETS.md">https://github.com/input-output-hk/cbor-sets-spec/blob/master/CBOR_SETS.md</a></p></div></div><div class="top"><p class="src"><a id="v:decodeMap" class="def">decodeMap</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s k -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s v -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/containers-0.6.7/docs/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v) <a href="#v:decodeMap" class="selflink">#</a></p><div class="doc"><p><code><a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a></code> for <code><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a></code>. Versions variance:</p><ul><li>[&gt;= 9] - Allows variable as well as exact list length encoding. Duplicate keys will
   result in a deserialization failure</li><li>[&gt;= 2] - Allows variable as well as exact list length encoding. Duplicate keys are
   silently ignored</li><li>[&lt; 2] - Expects exact list length encoding and enforces strict order
   without any duplicates.</li></ul><p>An example of how to use versioning</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:set -XOverloadedStrings
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import Codec.CBOR.FlatTerm
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>fromFlatTerm (toPlainDecoder 1 (decodeMap decodeInt decodeBytes)) [TkMapLen 2,TkInt 1,TkBytes &quot;Foo&quot;,TkInt 2,TkBytes &quot;Bar&quot;]
</code></strong>Right (fromList [(1,&quot;Foo&quot;),(2,&quot;Bar&quot;)])
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>fromFlatTerm (toPlainDecoder 1 (decodeMap decodeInt decodeBytes)) [TkMapBegin,TkInt 1,TkBytes &quot;Foo&quot;,TkInt 2,TkBytes &quot;Bar&quot;]
</code></strong>Left &quot;decodeMapLen: unexpected token TkMapBegin&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>fromFlatTerm (toPlainDecoder 2 (decodeMap decodeInt decodeBytes)) [TkMapBegin,TkInt 1,TkBytes &quot;Foo&quot;,TkInt 2,TkBytes &quot;Bar&quot;,TkBreak]
</code></strong>Right (fromList [(1,&quot;Foo&quot;),(2,&quot;Bar&quot;)])
</pre></div></div><div class="top"><p class="src"><a id="v:decodeMapByKey" class="def">decodeMapByKey</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s k -&gt; (k -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s v) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/containers-0.6.7/docs/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v) <a href="#v:decodeMapByKey" class="selflink">#</a></p><div class="doc"><p>Just like <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeMap" title="Cardano.Ledger.Binary.Decoding">decodeMap</a></code>, but also gives access to the key for the value decoder.</p></div></div><div class="top"><p class="src"><a id="v:decodeMapLikeEnforceNoDuplicates" class="def">decodeMapLikeEnforceNoDuplicates</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (k, v) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/containers-0.6.7/docs/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> k v) <a href="#v:decodeMapLikeEnforceNoDuplicates" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeMapByKey" title="Cardano.Ledger.Binary.Decoding">decodeMapByKey</a></code>, except it gives access to the key value
 decoder as a pair and allows for different type of length encoding</p></div></div><div class="top"><p class="src"><a id="v:decodeVMap" class="def">decodeVMap</a> :: (<a href="https://hackage.haskell.org/package/vector-0.13.1.0/docs/Data-Vector-Generic.html#t:Vector" title="Data.Vector.Generic">Vector</a> vv v, <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> k) =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s k -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s v -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/vector-map-1.1.0.0-5bdb6d13fabc980bfc34fa021ae0ae13429e4330cf2e46aa52eb49f147154fdf/share/doc/html/Data-VMap.html#t:VMap" title="Data.VMap">VMap</a> kv vv k v) <a href="#v:decodeVMap" class="selflink">#</a></p><div class="doc"><p>Decode <code>VMap</code>. Unlike <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeMap" title="Cardano.Ledger.Binary.Decoding">decodeMap</a></code> it does not behavee differently for
 version prior to 2.</p></div></div><div class="top"><p class="src"><a id="v:decodeSeq" class="def">decodeSeq</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/containers-0.6.7/docs/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a> a) <a href="#v:decodeSeq" class="selflink">#</a></p><div class="doc"><p>Decoder for <code><a href="https://hackage.haskell.org/package/containers-0.6.7/docs/Data-Sequence.html#t:Seq" title="Data.Sequence">Seq</a></code>. Same behavior for all versions, allows variable as
 well as exact list length encoding</p></div></div><div class="top"><p class="src"><a id="v:decodeStrictSeq" class="def">decodeStrictSeq</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/cardano-strict-containers-0.1.3.0-2052a8df8354aebe402a3e5db82b21a12d6e852cb61224de41c31629bea4a3d9/share/doc/html/Data-Sequence-Strict.html#t:StrictSeq" title="Data.Sequence.Strict">StrictSeq</a> a) <a href="#v:decodeStrictSeq" class="selflink">#</a></p><div class="doc"><p>Decoder for <code><a href="file:///run/github-runner/plutus-shared/.local/state/cabal/store/ghc-9.6.6/cardano-strict-containers-0.1.3.0-2052a8df8354aebe402a3e5db82b21a12d6e852cb61224de41c31629bea4a3d9/share/doc/html/Data-Sequence-Strict.html#t:StrictSeq" title="Data.Sequence.Strict">StrictSeq</a></code>. Same behavior for all versions, allows variable as
 well as exact list length encoding.</p></div></div><div class="top"><p class="src"><a id="v:decodeSetTag" class="def">decodeSetTag</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s () <a href="#v:decodeSetTag" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeListLikeWithCount" class="def">decodeListLikeWithCount</a> <a href="#v:decodeListLikeWithCount" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> s a b. <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)</td><td class="doc"><p>Length decoder that produces the expected number of elements. When <code><a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a></code> is
 decoded the <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeBreakOr" title="Cardano.Ledger.Binary.Decoding">decodeBreakOr</a></code> will be used as termination indicator.</p></td></tr><tr><td class="src">-&gt; (a -&gt; b -&gt; b)</td><td class="doc"><p>Add an element into the decoded List like data structure</p></td></tr><tr><td class="src">-&gt; (b -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a)</td><td class="doc"><p>Decoder for the values. Current accumulator is supplied as an argument</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>, b)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Decode a collection of values with ability to supply length decoder. Number of
 decoded elements will be returned together with the data structure</p></div></div><div class="top"><p class="src"><a id="v:decodeSetLikeEnforceNoDuplicates" class="def">decodeSetLikeEnforceNoDuplicates</a> <a href="#v:decodeSetLikeEnforceNoDuplicates" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> s a b c. <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (a -&gt; b -&gt; b)</td><td class="doc"><p>Add an element into the decoded Set like data structure</p></td></tr><tr><td class="src">-&gt; (b -&gt; (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>, c))</td><td class="doc"><p>Get the final data structure from the decoded sequence of values and the number of
 elements it contains. This is useful when a sequence on the wire is represented by a
 <code>set</code>, namely no duplicates are allowed, while the Haskell representation uses some
 other data structure that enforces no duplicates by some other means. For example a
 <code>Map</code>, where keys are hashes of the values encoded on the wire. The size of the final
 data structure will be used to enforce the invariant that the number of elements
 decoded matches the final size of the Set like data structure, thus ensuring no
 duplicates were encountered.</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s c</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Decode a Set as a either a definite or indefinite list. Duplicates are not
 allowed. Set tag 258 is permitted, but not enforced.</p></div></div><div class="top"><p class="src"><a id="v:decodeListLikeEnforceNoDuplicates" class="def">decodeListLikeEnforceNoDuplicates</a> <a href="#v:decodeListLikeEnforceNoDuplicates" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> s a b c. <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (a -&gt; b -&gt; b)</td><td class="doc"><p>Add an element into the decoded List like data structure</p></td></tr><tr><td class="src">-&gt; (b -&gt; (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int" title="Data.Int">Int</a>, c))</td><td class="doc"><p>Get the final data structure and the number of elements it has.</p></td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s c</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Decode a collection of values with ability to supply length decoder. Duplicates are not
 allowed.</p></div></div><div class="top"><p class="src"><a id="v:decodeMapContents" class="def">decodeMapContents</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s [a] <a href="#v:decodeMapContents" class="selflink">#</a></p></div><a href="#g:8" id="g:8"><h4>Applicaitve</h4></a><div class="top"><p class="src"><a id="v:decodeMapTraverse" class="def">decodeMapTraverse</a> :: (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> a, <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> t) =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (t a) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (t b) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (t (<a href="https://hackage.haskell.org/package/containers-0.6.7/docs/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> a b)) <a href="#v:decodeMapTraverse" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeMapContentsTraverse" class="def">decodeMapContentsTraverse</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Control-Applicative.html#t:Applicative" title="Control.Applicative">Applicative</a> t =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (t a) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (t b) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (t [(a, b)]) <a href="#v:decodeMapContentsTraverse" class="selflink">#</a></p></div><a href="#g:9" id="g:9"><h3>Time</h3></a><div class="top"><p class="src"><a id="v:decodeUTCTime" class="def">decodeUTCTime</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/time-1.12.2/docs/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a> <a href="#v:decodeUTCTime" class="selflink">#</a></p><div class="doc"><p><code><a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a></code> for <code><a href="https://hackage.haskell.org/package/time-1.12.2/docs/Data-Time-Clock.html#t:UTCTime" title="Data.Time.Clock">UTCTime</a></code>. Versions variance:</p><ul><li>[&gt;= 2] - Allows variable list length encoding, but still expects number of
   elements to be 3.</li><li>[&lt; 2] - Expects exact list length encoding to be 3</li></ul></div></div><a href="#g:10" id="g:10"><h3>Network</h3></a><div class="top"><p class="src"><a id="v:decodeIPv4" class="def">decodeIPv4</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s IPv4 <a href="#v:decodeIPv4" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeIPv6" class="def">decodeIPv6</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s IPv6 <a href="#v:decodeIPv6" class="selflink">#</a></p></div><a href="#g:11" id="g:11"><h2>Lifted <code>cborg</code> decoders</h2></a><div class="top"><p class="src"><a id="v:decodeBool" class="def">decodeBool</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/cborg-0.2.10.0/docs/Codec-CBOR-ByteArray.html#t:ByteArray" title="Codec.CBOR.ByteArray">ByteArray</a> <a href="#v:decodeUtf8ByteArrayCanonical" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWithByteSpan" class="def">decodeWithByteSpan</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (a, <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteOffset" title="Cardano.Ledger.Binary.Decoding">ByteOffset</a>, <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteOffset" title="Cardano.Ledger.Binary.Decoding">ByteOffset</a>) <a href="#v:decodeWithByteSpan" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWord" class="def">decodeWord</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:decodeWord" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWord16" class="def">decodeWord16</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word16" title="Data.Word">Word16</a> <a href="#v:decodeWord16" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWord16Canonical" class="def">decodeWord16Canonical</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word16" title="Data.Word">Word16</a> <a href="#v:decodeWord16Canonical" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWord32" class="def">decodeWord32</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word32" title="Data.Word">Word32</a> <a href="#v:decodeWord32" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWord32Canonical" class="def">decodeWord32Canonical</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word32" title="Data.Word">Word32</a> <a href="#v:decodeWord32Canonical" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWord64" class="def">decodeWord64</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="#v:decodeWord64" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWord64Canonical" class="def">decodeWord64Canonical</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word64" title="Data.Word">Word64</a> <a href="#v:decodeWord64Canonical" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWord8" class="def">decodeWord8</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a> <a href="#v:decodeWord8" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWord8Canonical" class="def">decodeWord8Canonical</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word8" title="Data.Word">Word8</a> <a href="#v:decodeWord8Canonical" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWordCanonical" class="def">decodeWordCanonical</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word" title="Data.Word">Word</a> <a href="#v:decodeWordCanonical" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWordCanonicalOf" class="def">decodeWordCanonicalOf</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s () <a href="#v:decodeWordCanonicalOf" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeWordOf" class="def">decodeWordOf</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Word.html#t:Word" title="Data.Word">Word</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s () <a href="#v:decodeWordOf" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:decodeTerm" class="def">decodeTerm</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="Cardano-Ledger-Binary.html#t:Term" title="Cardano.Ledger.Binary">Term</a> <a href="#v:decodeTerm" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:peekAvailable" class="def">peekAvailable</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> <a href="#v:peekAvailable" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:peekByteOffset" class="def">peekByteOffset</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteOffset" title="Cardano.Ledger.Binary.Decoding">ByteOffset</a> <a href="#v:peekByteOffset" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:peekTokenType" class="def">peekTokenType</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="Cardano-Ledger-Binary-Decoding.html#t:TokenType" title="Cardano.Ledger.Binary.Decoding">TokenType</a> <a href="#v:peekTokenType" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Sized" class="def">Sized</a> a <a href="#t:Sized" class="selflink">#</a></p><div class="doc"><p>A CBOR deserialized value together with its size. When deserializing use
 either <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeSized" title="Cardano.Ledger.Binary.Decoding">decodeSized</a></code> or its <code><a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a></code> instance.</p><p>Use <code><a href="Cardano-Ledger-Binary-Decoding.html#v:mkSized" title="Cardano.Ledger.Binary.Decoding">mkSized</a></code> to construct such value.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Sized" class="def">Sized</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:sizedValue" class="def">sizedValue</a> :: !a</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:sizedSize" class="def">sizedSize</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int64" title="Data.Int">Int64</a></dfn><div class="doc"><p>Overhead in bytes. The field is lazy on purpose, because it might not
 be needed, but it can be expensive to compute.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Sized">Instances</h4><details id="i:Sized" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Sized:Generic:1"></span> <a href="https://hackage.haskell.org/package/nothunks-0.1.5/docs/NoThunks-Class.html#t:ThunkInfo" title="NoThunks.Class">ThunkInfo</a>) <a href="#v:wNoThunks" class="selflink">#</a></p><p class="src"><a href="#v:showTypeOf">showTypeOf</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Proxy.html#t:Proxy" title="Data.Proxy">Proxy</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Sized" title="Cardano.Ledger.Binary.Decoding">Sized</a> a) -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:showTypeOf" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Sized:Rep:8"></span> <span class="keyword">type</span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Sized" title="Cardano.Ledger.Binary.Decoding">Sized</a> a)</span> <a href="#t:Sized" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Sized:Rep:8"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Sized.html">Cardano.Ledger.Binary.Decoding.Sized</a></p> <div class="src"><span class="keyword">type</span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Sized" title="Cardano.Ledger.Binary.Decoding">Sized</a> a) = <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;Sized&quot; &quot;Cardano.Ledger.Binary.Decoding.Sized&quot; &quot;cardano-ledger-binary-1.3.3.0-inplace&quot; '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;Sized&quot; '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Bool.html#v:True" title="Data.Bool">True</a>) (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;sizedValue&quot;) '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> a) <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;sizedSize&quot;) '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int64" title="Data.Int">Int64</a>)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mkSized" class="def">mkSized</a> :: <a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a> a =&gt; <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> -&gt; a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Sized" title="Cardano.Ledger.Binary.Decoding">Sized</a> a <a href="#v:mkSized" class="selflink">#</a></p><div class="doc"><p>Construct a <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Sized" title="Cardano.Ledger.Binary.Decoding">Sized</a></code> value by serializing it first and recording the amount
 of bytes it requires. Note, however, CBOR serialization is not canonical,
 therefore it is *NOT* a requirement that this property holds:</p><pre>sizedSize (mkSized a) === sizedSize (unsafeDeserialize (serialize a) :: a)</pre></div></div><div class="top"><p class="src"><a id="v:decodeSized" class="def">decodeSized</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="Cardano-Ledger-Binary-Decoding.html#t:Sized" title="Cardano.Ledger.Binary.Decoding">Sized</a> a) <a href="#v:decodeSized" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:sizedDecoder" class="def">sizedDecoder</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="Cardano-Ledger-Binary-Decoding.html#t:Sized" title="Cardano.Ledger.Binary.Decoding">Sized</a> a) <a href="#v:sizedDecoder" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: In favor of more consistently named <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeSized" title="Cardano.Ledger.Binary.Decoding">decodeSized</a></code></p></div></div></div><div class="top"><p class="src"><a id="v:toSizedL" class="def">toSizedL</a> :: <a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a> s =&gt; <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> -&gt; <a href="https://hackage.haskell.org/package/microlens-0.4.13.1/docs/Lens-Micro-Type.html#t:Lens-39-" title="Lens.Micro.Type">Lens'</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Sized" title="Cardano.Ledger.Binary.Decoding">Sized</a> s) a <a href="#v:toSizedL" class="selflink">#</a></p><div class="doc"><p>Take a lens that operates on a particular type and convert it into a lens
 that operates on the <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Sized" title="Cardano.Ledger.Binary.Decoding">Sized</a></code> version of the type.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Dropper" class="def">Dropper</a> s = <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s () <a href="#t:Dropper" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dropBytes" class="def">dropBytes</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s <a href="#v:dropBytes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dropInt32" class="def">dropInt32</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s <a href="#v:dropInt32" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dropList" class="def">dropList</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s <a href="#v:dropList" class="selflink">#</a></p><div class="doc"><p>Drop a list of values using the supplied <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a></code> for each element</p></div></div><div class="top"><p class="src"><a id="v:dropMap" class="def">dropMap</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s <a href="#v:dropMap" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dropSet" class="def">dropSet</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s <a href="#v:dropSet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dropTuple" class="def">dropTuple</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s <a href="#v:dropTuple" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dropTriple" class="def">dropTriple</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s <a href="#v:dropTriple" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dropWord8" class="def">dropWord8</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s <a href="#v:dropWord8" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:dropWord64" class="def">dropWord64</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Dropper" title="Cardano.Ledger.Binary.Decoding">Dropper</a> s <a href="#v:dropWord64" class="selflink">#</a></p></div><a href="#g:12" id="g:12"><h1>Annotated</h1></a><div class="doc"><p>The regular CBOR <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a></code> does not support access to the original <code><a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></code> that is
 being read during deserialization. The <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a></code> and <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Annotated" title="Cardano.Ledger.Binary.Decoding">Annotated</a></code> recover this ability.</p><ol><li value="1"><code><a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a></code>  A pair of indexes into a bytestring, indicating a substring.</li><li value="2"><code><a href="Cardano-Ledger-Binary-Decoding.html#t:Annotated" title="Cardano.Ledger.Binary.Decoding">Annotated</a></code>  Used in practice to pair a value with a <code><a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a></code>. Mostly used in Byron codebase.</li><li value="3"><code><a href="Cardano-Ledger-Binary-Decoding.html#t:FullByteString" title="Cardano.Ledger.Binary.Decoding">FullByteString</a></code> A newtype (around a bytestring) used to store the original bytestring being deserialized.</li><li value="4"><code><a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a></code> An explict reader monad whose environment is a <code><a href="Cardano-Ledger-Binary-Decoding.html#t:FullByteString" title="Cardano.Ledger.Binary.Decoding">FullByteString</a></code></li></ol><p>The basic idea is, for a given type <code>t</code>, where we need the original <code><a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></code>, either</p><ol><li value="1">To complete the deserialization, or</li><li value="2">To combine the deserialized answer with the original <code><a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></code>.</li></ol><p>We should proceed as follows: Define instances <code>(<code><a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a></code> (<code><a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a></code> t))</code> instead
 of <code>(<code><a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a></code> t)</code>. When making this instance we may freely use that both <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a></code>
 and <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a></code> are both monads, and that functions <code><a href="Cardano-Ledger-Binary-Decoding.html#v:withSlice" title="Cardano.Ledger.Binary.Decoding">withSlice</a></code> and <code><a href="Cardano-Ledger-Binary-Decoding.html#v:annotatorSlice" title="Cardano.Ledger.Binary.Decoding">annotatorSlice</a></code>
 provide access to the original bytes, or portions thereof, inside of decoders.  Then,
 to actually decode a value of type <code>t</code>, we use something similar to the following code
 fragment.</p><pre>howToUseFullBytes bytes = do
  Annotator f &lt;- decodeFullDecoder &quot;DecodingAnnotator&quot; (decCBOR :: forall s. Decoder s (Annotator t)) bytes
  pure (f (Full bytes))
</pre><p>Decode the bytes to get an <code>(<code><a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a></code> f)</code> where f is a function that when given
 original bytes produces a value of type <code>t</code>, then apply <code>f</code> to <code>(<code><a href="Cardano-Ledger-Binary-Decoding.html#v:Full" title="Cardano.Ledger.Binary.Decoding">Full</a></code> bytes)</code> to get
 the answer.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Annotated" class="def">Annotated</a> b a <a href="#t:Annotated" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Annotated" class="def">Annotated</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:unAnnotated" class="def">unAnnotated</a> :: !b</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:annotation" class="def">annotation</a> :: !a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Annotated">Instances</h4><details id="i:Annotated" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Annotated:Bifunctor:1"></span> <a href="https://hackage.haskell.org/package/deriving-aeson-0.2.9/docs/Deriving-Aeson.html#t:ToJSON" title="Deriving.Aeson">ToJSON</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a></span> <a href="#t:ByteSpan" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteSpan:ToJSON:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Annotated.html">Cardano.Ledger.Binary.Decoding.Annotated</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:toJSON">toJSON</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a> -&gt; Value</p><p class="src"><a href="#v:toEncoding">toEncoding</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a> -&gt; Encoding</p><p class="src"><a href="#v:toJSONList">toJSONList</a> :: [<a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a>] -&gt; Value</p><p class="src"><a href="#v:toEncodingList">toEncodingList</a> :: [<a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a>] -&gt; Encoding</p><p class="src"><a href="#v:omitField">omitField</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteSpan:Generic:2"></span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a></span> <a href="#t:ByteSpan" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteSpan:Generic:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Annotated.html">Cardano.Ledger.Binary.Decoding.Annotated</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a> x <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a> x -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteSpan:Show:3"></span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a></span> <a href="#t:ByteSpan" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteSpan:Show:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Annotated.html">Cardano.Ledger.Binary.Decoding.Annotated</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a>] -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ByteSpan:Rep:4"></span> <span class="keyword">type</span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a></span> <a href="#t:ByteSpan" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:ByteSpan:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Annotated.html">Cardano.Ledger.Binary.Decoding.Annotated</a></p> <div class="src"><span class="keyword">type</span> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a> = <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;ByteSpan&quot; &quot;Cardano.Ledger.Binary.Decoding.Annotated&quot; &quot;cardano-ledger-binary-1.3.3.0-inplace&quot; '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;ByteSpan&quot; '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteOffset" title="Cardano.Ledger.Binary.Decoding">ByteOffset</a>) <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#v:Nothing" title="Data.Maybe">Nothing</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-TypeLits.html#t:Symbol" title="GHC.TypeLits">Symbol</a>) '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:SourceStrict" title="GHC.Generics">SourceStrict</a> '<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#v:DecidedStrict" title="GHC.Generics">DecidedStrict</a>) (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteOffset" title="Cardano.Ledger.Binary.Decoding">ByteOffset</a>)))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Decoded" class="def">Decoded</a> t <span class="keyword">where</span> <a href="#t:Decoded" class="selflink">#</a></p><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a id="t:BaseType" class="def">BaseType</a> t :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:BaseType" class="selflink">#</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:recoverBytes" class="def">recoverBytes</a> :: t -&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="#v:recoverBytes" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Decoded">Instances</h4><details id="i:Decoded" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:Decoded:Decoded:1"></span> <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoded" title="Cardano.Ledger.Binary.Decoding">Decoded</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotated" title="Cardano.Ledger.Binary.Decoding">Annotated</a> b <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>)</span> <a href="#t:Decoded" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:Decoded:Decoded:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Cardano-Ledger-Binary-Decoding-Annotated.html">Cardano.Ledger.Binary.Decoding.Annotated</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="Cardano-Ledger-Binary-Decoding.html#t:BaseType" title="Cardano.Ledger.Binary.Decoding">BaseType</a> (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotated" title="Cardano.Ledger.Binary.Decoding">Annotated</a> b <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a>) <a href="#t:BaseType" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:recoverBytes">recoverBytes</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Annotated" title="Cardano.Ledger.Binary.Decoding">Annotated</a> b <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="#v:recoverBytes" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:annotationBytes" class="def">annotationBytes</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> f =&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; f <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a> -&gt; f <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="#v:annotationBytes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:annotatedDecoder" class="def">annotatedDecoder</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotated" title="Cardano.Ledger.Binary.Decoding">Annotated</a> a <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a>) <a href="#v:annotatedDecoder" class="selflink">#</a></p><div class="doc"><p>A decoder for a value paired with an annotation specifying the start and end
 of the consumed bytes.</p></div></div><div class="top"><p class="src"><a id="v:slice" class="def">slice</a> :: <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a> -&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> <a href="#v:slice" class="selflink">#</a></p><div class="doc"><p>Extract a substring of a given ByteString corresponding to the offsets.</p></div></div><div class="top"><p class="src"><a id="v:decCBORAnnotated" class="def">decCBORAnnotated</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> a =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotated" title="Cardano.Ledger.Binary.Decoding">Annotated</a> a <a href="Cardano-Ledger-Binary-Decoding.html#t:ByteSpan" title="Cardano.Ledger.Binary.Decoding">ByteSpan</a>) <a href="#v:decCBORAnnotated" class="selflink">#</a></p><div class="doc"><p>A decoder for a value paired with an annotation specifying the start and end
 of the consumed bytes.</p></div></div><div class="top"><p class="src"><a id="v:reAnnotate" class="def">reAnnotate</a> :: <a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a> a =&gt; <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Annotated" title="Cardano.Ledger.Binary.Decoding">Annotated</a> a b -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Annotated" title="Cardano.Ledger.Binary.Decoding">Annotated</a> a <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="#v:reAnnotate" class="selflink">#</a></p><div class="doc"><p>Reconstruct an annotation by re-serialising the payload to a ByteString.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:Annotator" class="def">Annotator</a> a <a href="#t:Annotator" class="selflink">#</a></p><div class="doc"><p>A value of type <code>(Annotator a)</code> is one that needs access to the entire bytestring
   used during decoding to finish construction of a vaue of type <code>a</code>. A typical use is
   some type that stores the bytes that were used to deserialize it.  For example the
   type <code>Inner</code> below is constructed using the helper function <code>makeInner</code> which
   serializes and stores its bytes (using <code>serialize</code>).  Note how we build the
   <code><a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a></code> by abstracting over the full bytes, and using those original bytes to
   fill the bytes field of the constructor <code>Inner</code>.  The <code><a href="Cardano-Ledger-Binary-Encoding.html#t:EncCBOR" title="Cardano.Ledger.Binary.Encoding">EncCBOR</a></code> instance just reuses
   the stored bytes to produce an encoding (using <code>encodePreEncoded</code>).</p><pre>data Inner = Inner Int Bool LByteString

makeInner :: Int -&gt; Bool -&gt; Inner
makeInner i b = Inner i b (serialize (encCBOR i &lt;&gt; encCBOR b))

instance EncCBOR Inner where
  encCBOR (Inner _ _ bytes) = encodePreEncoded bytes

instance DecCBOR (Annotator Inner) where
  decCBOR = do
     int &lt;- decCBOR
     trueOrFalse &lt;- decCBOR
     pure (Annotator ((Full bytes) -&gt; Inner int trueOrFalse bytes))
</pre><p>if an <code>Outer</code> type has a field of type <code>Inner</code>, with a <code>(EncCBOR (Annotator Inner))</code>
 instance, the <code>Outer</code> type must also have a <code>(EncCBOR (Annotator Outer))</code> instance.  The
 key to writing that instance is to use the operation <code>withSlice</code> which returns a pair.
 The first component is an <code>Annotator</code> that can build <code>Inner</code>, the second is an
 <code>Annotator</code> that given the full bytes, extracts just the bytes needed to decode
 <code>Inner</code>.</p><pre>data Outer = Outer Text Inner

instance EncCBOR Outer where
  encCBOR (Outer t i) = encCBOR t &lt;&gt; encCBOR i

instance DecCBOR (Annotator Outer) where
  decCBOR = do
    t &lt;- decCBOR
    (Annotator mkInner, Annotator extractInnerBytes) &lt;- withSlice decCBOR
    pure (Annotator ( full -&gt; Outer t (mkInner (Full (extractInnerBytes full)))))
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Annotator" class="def">Annotator</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:runAnnotator" class="def">runAnnotator</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:FullByteString" title="Cardano.Ledger.Binary.Decoding">FullByteString</a> -&gt; a</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Annotator">Instances</h4><details id="i:Annotator" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Annotator:Applicative:1"></span> <a href="../../plutus-core/PlutusCore-Data.html#t:Data" title="PlutusCore.Data">Data</a>) -&gt; <a href="https://hackage.haskell.org/package/flat-0.6/docs/Flat-Types.html#t:Text" title="Flat.Types">Text</a> <a href="#v:label" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:annotatorSlice" class="def">annotatorSlice</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> (<a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; a)) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> a) <a href="#v:annotatorSlice" class="selflink">#</a></p><div class="doc"><p>The argument is a decoder for a annotator that needs access to the bytes that
 | were decoded. This function constructs and supplies the relevant piece.</p></div></div><div class="top"><p class="src"><a id="v:withSlice" class="def">withSlice</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (a, <a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a>) <a href="#v:withSlice" class="selflink">#</a></p><div class="doc"><p>Pairs the decoder result with an annotator that can be used to construct the exact
 bytes used to decode the result.</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:FullByteString" class="def">FullByteString</a> <a href="#t:FullByteString" class="selflink">#</a></p><div class="doc"><p>This marks the entire bytestring used during decoding, rather than the
   piece we need to finish constructing our value.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Full" class="def">Full</a> <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:decodeAnnSet" class="def">decodeAnnSet</a> :: <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Ord.html#t:Ord" title="Data.Ord">Ord</a> t =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> t) -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> (<a href="https://hackage.haskell.org/package/containers-0.6.7/docs/Data-Set.html#t:Set" title="Data.Set">Set</a> t)) <a href="#v:decodeAnnSet" class="selflink">#</a></p></div><a href="#g:13" id="g:13"><h1>Nested CBOR in CBOR</h1></a><div class="top"><p class="src"><a id="v:decodeNestedCbor" class="def">decodeNestedCbor</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> a =&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a <a href="#v:decodeNestedCbor" class="selflink">#</a></p><div class="doc"><p>Remove the the semantic tag 24 from the enclosed CBOR data item,
 decoding back the inner <code>ByteString</code> as a proper Haskell type.
 Consume its input in full.</p></div></div><div class="top"><p class="src"><a id="v:decodeNestedCborBytes" class="def">decodeNestedCborBytes</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> <a href="#v:decodeNestedCborBytes" class="selflink">#</a></p><div class="doc"><p>Like <code>decodeKnownCborDataItem</code>, but assumes nothing about the Haskell
 type we want to deserialise back, therefore it yields the <code>ByteString</code>
 Tag 24 surrounded (stripping such tag away).</p><p>In CBOR notation, if the data was serialised as:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>24(h'DEADBEEF')
</code></strong></pre><p>then <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeNestedCborBytes" title="Cardano.Ledger.Binary.Decoding">decodeNestedCborBytes</a></code> yields the inner <code>DEADBEEF</code>, unchanged.</p></div></div><a href="#g:14" id="g:14"><h1>Unsafe deserialization</h1></a><div class="top"><p class="src"><a id="v:unsafeDeserialize" class="def">unsafeDeserialize</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> a =&gt; <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> -&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; a <a href="#v:unsafeDeserialize" class="selflink">#</a></p><div class="doc"><p>Deserialize a Haskell value from the external binary representation, which
 have been made using <code>serialize</code> or a matching serialization functionilty in
 another language that uses CBOR format. Accepts lazy <code><a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a></code> as
 input, for strict variant use <code><a href="Cardano-Ledger-Binary-Decoding.html#v:unsafeDeserialize-39-" title="Cardano.Ledger.Binary.Decoding">unsafeDeserialize'</a></code> instead.</p><p>This deserializaer is not safe for these reasons:</p><ul><li><em>Throws</em>: <code><code><a href="Cardano-Ledger-Binary.html#t:DeserialiseFailure" title="Cardano.Ledger.Binary">DeserialiseFailure</a></code></code> if the given external
   representation is invalid or does not correspond to a value of the
   expected type.</li><li>Decoding will not fail when the binary input is not consumed in full.</li></ul></div></div><div class="top"><p class="src"><a id="v:unsafeDeserialize-39-" class="def">unsafeDeserialize'</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:DecCBOR" title="Cardano.Ledger.Binary.Decoding">DecCBOR</a> a =&gt; <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> -&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a> -&gt; a <a href="#v:unsafeDeserialize-39-" class="selflink">#</a></p><div class="doc"><p>Variant of <code><a href="Cardano-Ledger-Binary-Decoding.html#v:unsafeDeserialize" title="Cardano.Ledger.Binary.Decoding">unsafeDeserialize</a></code> that accepts a strict <code><a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> as
 input.</p></div></div><a href="#g:15" id="g:15"><h1>Helpers</h1></a><div class="top"><p class="src"><a id="v:toStrictByteString" class="def">toStrictByteString</a> <a href="#v:toStrictByteString" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Cardano-Ledger-Binary-Plain.html#t:Encoding" title="Cardano.Ledger.Binary.Plain">Encoding</a></td><td class="doc"><p>The <code><a href="Cardano-Ledger-Binary-Plain.html#t:Encoding" title="Cardano.Ledger.Binary.Plain">Encoding</a></code> of a CBOR value.</p></td></tr><tr><td class="src">-&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></td><td class="doc"><p>The encoded value.</p></td></tr></table></div><div class="doc"><p>Turn an <code><a href="Cardano-Ledger-Binary-Plain.html#t:Encoding" title="Cardano.Ledger.Binary.Plain">Encoding</a></code> into a strict <code><a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString.html#t:ByteString" title="Data.ByteString">ByteString</a></code> in CBOR binary
 format.</p><p><em>Since: cborg-0.2.0.0</em></p></div></div><a href="#g:16" id="g:16"><h1>Deprecated</h1></a><div class="top"><p class="src"><a id="v:decodeAnnotator" class="def">decodeAnnotator</a> :: <a href="Cardano-Ledger-Binary-Version.html#t:Version" title="Cardano.Ledger.Binary.Version">Version</a> -&gt; <a href="https://hackage.haskell.org/package/flat-0.6/docs/Flat-Types.html#t:Text" title="Flat.Types">Text</a> -&gt; (<span class="keyword">forall</span> s. <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="Cardano-Ledger-Binary-Decoding.html#t:Annotator" title="Cardano.Ledger.Binary.Decoding">Annotator</a> a)) -&gt; <a href="https://hackage.haskell.org/package/bytestring-0.11.5.3/docs/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Cardano-Ledger-Binary-Decoding.html#t:DecoderError" title="Cardano.Ledger.Binary.Decoding">DecoderError</a> a <a href="#v:decodeAnnotator" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: In favor of <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeFullAnnotator" title="Cardano.Ledger.Binary.Decoding">decodeFullAnnotator</a></code></p></div></div></div><div class="top"><p class="src"><a id="v:decCBORMaybe" class="def">decCBORMaybe</a> :: <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s a -&gt; <a href="Cardano-Ledger-Binary-Decoding.html#t:Decoder" title="Cardano.Ledger.Binary.Decoding">Decoder</a> s (<a href="https://hackage.haskell.org/package/base-4.18.2.1/docs/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> a) <a href="#v:decCBORMaybe" class="selflink">#</a></p><div class="doc"><div class="warning"><p>Deprecated: In favor of <code><a href="Cardano-Ledger-Binary-Decoding.html#v:decodeMaybe" title="Cardano.Ledger.Binary.Decoding">decodeMaybe</a></code></p></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.29.2</p></div></body></html>